
<button id="divcargaarchivo" class="accordiondatos" style="display:flex;width:100%;" ng-click="vm.abrirpanel()">


    <img class="img" style="text-align:left;" src="Img/lineavertical.png" />


    <p style="padding-top:1rem;padding-left:2rem;width:95%;">
        <span class="d-inline-block" id="alert-documentossoportealojararchivo"></span><span class="headline-s font-azul">&nbsp;Alojar archivos </span>
    </p>


    <img id="u4_imgcargaarchivo" class="img" style="text-align:right;margin-top:3rem" src="Img/iconsmenu/u4.svg">


</button>

<div class="paneldatos" style="background-color:white;padding-top:2rem;padding-bottom:0px !important;max-width:auto !important;" ng-init="vm.initCargarArchivos()">
    <div class="row" style="padding-top:2rem;">
        <div class="col-md-12" style="display:inline-flex;">
            <span class="label" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">Carga de archivos </span>
            <div ng-click="vm.abrirTooltip()" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">
                <svg class="mi-card__tooltip-icon" xmlns="http://www.w3.org/2000/svg" width="17.037" height="17.037" viewBox="0 0 17.037 17.037">
                    <g id="Grupo_5110" data-name="Grupo 5110" transform="translate(0 0)">
                        <path id="Caminho_9243" data-name="Caminho 9243" d="M8.552,0A8.552,8.552,0,0,0,0,8.485a8.609,8.609,0,0,0,8.552,8.552A8.519,8.519,0,0,0,8.552,0Zm0,14.542a1,1,0,1,1,1-1A1,1,0,0,1,8.552,14.542Zm1.769-6.136A2.663,2.663,0,0,0,9.55,10.22v.262a1,1,0,0,1-2,0V10.22A4.614,4.614,0,0,1,9.141,6.8,1,1,0,1,0,7.554,5.99a1,1,0,0,1-2,0,2.995,2.995,0,1,1,4.764,2.416Z" transform="translate(0 0)" fill="#36c"></path>
                    </g>
                </svg>
            </div>
        </div>

    </div>
    <div class="row" style="padding-top:2rem;">
        <div class="col-md-3" style="padding-top:2rem;">
            <div class="form-group">
                <div class="row">
                    <span class="uLabelCampoNegro" style="padding-left:2rem;" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">Tipo de archivo</span>
                    <div class="col-md-12" style="padding-top:1rem;" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">
                        <select name="ddlTipoArchivo" ng-change="vm.onChangeTipoArchivo(this)" class="select" id="ddlTipoArchivo" style="width:95%;" ng-model="vm.idTipoArchivoSeleccionado">
                            <option class="option" value='0' selected>Seleccione...</option>
                            <option class="option" ng-repeat="tipoArchivo in vm.listaTipoArchivos" ng-value="tipoArchivo.Id">{{ tipoArchivo.TipoDocumento }} </option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6" style="padding-top:2rem;">
            <div class="form-group">
                <div class="row">
                    <span class="uLabelCampoNegro" style="padding-left:2rem;" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">Archivo</span>
                    <div class="col-md-12" ng-class="{'my-disable':!vm.activarexaminar}" has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">
                        <form class="form-ex-archivo" style="display: flex; border: solid 1px #c7d3ffad; border-radius: 5px; ">
                            <button class="btn-ex-archivo" ng-click="vm.adjuntarArchivo()">EXAMINAR</button>
                            <input type="text" readonly class="form-control input-ex-archivo " placeholder="" ng-value="vm.filename">
                            <a class="clear x_remove" ng-class="{'my-disable':vm.filename === undefined || vm.filename === ''}" ng-click="vm.onClickCancelar()" style="width: 5%; padding-top: 0.5rem; ">
                                <span class="glyphicon glyphicon-remove"></span>
                            </a>
                            <input type="file" style="display:none" id="file" name='files[]' onchange="angular.element(this).scope().fileNameChanged(this)" accept="{{vm.modelo.ext}}" multiple />
                        </form>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3" style="padding-top:3rem;">
            <div class="form-group">
                <div class="col-md-6" style="padding-top:1.5rem;">
                    <div>
                        <span class="buttonbar pull-right">
                            <button type="button" ng-disabled="!vm.activarexaminar" class="btn btn-blanco btn-md btn-blanco" tooltip-placement="top" uib-tooltip="Cancelar" ng-click="vm.onClickCancelar()"
                                    tabindex="0"
                                    has-claim has-opciones="['TramitesVigenciaFutura:AccionesPasoUno']">
                                Cancelar
                            </button>
                        </span>
                    </div>
                </div>
                <div class="col-md-6">
                    <span></span>
                    <div style="padding-top:1.5rem;">
                        <span class="buttonbar pull-left">
                            <button ng-disabled="!vm.activarguardar" type="button" has-claim has-opciones="['TramitesVF:CargarArchivos']" class="btn btn-default btn-md" tooltip-placement="top" uib-tooltip="Cargar" ng-click="vm.onClickCargar()"
                                    tabindex="0">
                                Cargar
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-12"></div>
    </div>
    <div id="documentossoportealojararchivo-archivo-error" class="hidden uMensajeError"></div>
    <div id="documentossoportealojararchivo-CDP-error" class="hidden uMensajeError"></div>
    <div class="row">
        <div class="col-md-10">
            <span class="uLabelCampoNegro" style="padding-left:0rem;">{{vm.titulogrilla}}</span>
        </div>
        <div class="col-md-2" style="padding-top: 2rem; text-align: right;">
            <span class="uLabelCampoNegro" style="padding-left:0rem;">Total&nbsp;&nbsp;{{vm.totalRegistros}} </span>
        </div>
        <div class="col-md-12" style="padding-top:0.2rem;">
            <div class="row">
                <div class="filtro filtro-entidades">
                    <div class="clearfix">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-xs-5" style="text-align:left">
                                    <span>Tipo documento</span>
                                </div>
                                <div class="col-md-5" style="text-align:left;">
                                    <span>Nombre archivo</span>
                                </div>
                                <div class="col-md-1" style="text-align:left;">
                                    <span></span>
                                </div>
                                <div class="col-xs-1" style="text-align: left;">
                                    <span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-repeat="objArchivo in vm.listaArchivos" style="width:99%" ng-init="objArchivoIndex = $index">
                    <div class="col-md-12 form-group text-right" style="padding-right:2rem;">
                        <div class="col-md-12">
                            <div class="col-md-5" style="text-align:left">
                                <label style="font-size: 12px; font-family: 'Work Sans';">{{objArchivo.tipoDocumento}}</label>
                            </div>
                            <div class="col-md-5" style="text-align:left">
                                <label style="font-size: 12px; font-family: 'Work Sans'; color: mediumblue">{{objArchivo.nombreArchivo}}</label>
                            </div>
                            <div class="col-md-1" style="text-align:left">
                                <button class="btn" style="padding-top:1px;background:#fff;" uib-tooltip="Decargar archivo" ng-click="vm.descargarArchivoBlob(objArchivo)">
                                    <svg style="color: rgb(83, 137, 223); padding-top: 1.2rem;" xmlns="http://www.w3.org/2000/svg" width="58" height="58" fill="currentColor" class="bi bi-cloud-arrow-down-fill" viewBox="0 0 28 28"> <path d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708z" fill="#5389df"></path> </svg>

                                </button>
                            </div>
                            <div class="col-xs-1" style="text-align:center">
                                <button has-claim has-opciones="['TramitesVF:EliminarArchivos']" class="btn" style="background:#fff;" uib-tooltip="Eliminar archivo" ng-click="vm.eliminarArchivoBlob(objArchivo)">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="28" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z" />
                                        <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>


</div>

