
<div class="container-fluid inbox" ng-init="vm.initSaldos();">

    <br />
    <!--<span class="buttonbar pull-right">
        <button type="button" class=" btneditarDNP">
            EDITAR
        </button>

        <button type="button" class="  btnguardarDNP">
            GUARDAR
        </button>
        <button type="button" class="  btnguardarDisabledDNP" disabled>
            GUARDAR
        </button>
    </span>

    <br />-->

    <div class="" style="height:20px">
    </div>



    <div class="row" style="padding-top:2rem;">
        <div class="col-md-12" style="color: #004884; font-weight: 400; font-size: 20px; padding-top: 3rem;">
            <span>Resumen cargue de saldos MH </span>
              <svg ng-click="vm.abrirTooltip('Resumen')" class="mi-card__tooltip-icon" xmlns="http://www.w3.org/2000/svg" width="17.037" height="17.037" viewBox="0 0 17.037 17.037">
                    <g id="Grupo_5110" data-name="Grupo 5110" transform="translate(0 0)">
                        <path id="Caminho_9243" data-name="Caminho 9243" d="M8.552,0A8.552,8.552,0,0,0,0,8.485a8.609,8.609,0,0,0,8.552,8.552A8.519,8.519,0,0,0,8.552,0Zm0,14.542a1,1,0,1,1,1-1A1,1,0,0,1,8.552,14.542Zm1.769-6.136A2.663,2.663,0,0,0,9.55,10.22v.262a1,1,0,0,1-2,0V10.22A4.614,4.614,0,0,1,9.141,6.8,1,1,0,1,0,7.554,5.99a1,1,0,0,1-2,0,2.995,2.995,0,1,1,4.764,2.416Z" transform="translate(0 0)" fill="#36c"></path>
                    </g>
                </svg>
            
        </div>
        <div class="col-md-12" style=" padding-top: 3rem;">
            <table class="TableDNP">
                <thead>
                    <tr>
                        <th class="columAcc">

                        </th>
                        <th class="textLeftDNP">Tipo cargue</th>
                        <th class="textLeftDNP">FechaCreacion</th>
                        <th class="textRightDNP">Valor $</th>
                        <th class="textLeftDNP">Estado</th>
                        <th class="textLeftDNP"></th>
                        <th class="textLeftDNP"></th>
                        <th class="columAcc"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="cargue in vm.listaCarguesSaldos">
                        <td><span style="display:none">{{cargue.Id}}</span></td>
                        <td>{{cargue.TipoCargue}}</td>
                        <td>{{cargue.FechaCreacion | date : "dd/MM/yyyy HH:mm" }}</td>
                        <td class="textRightDNP">{{cargue.Valor | number:2}}</td>
                        <td data-ng-style="(cargue.Estado === 'Activo') ? vm.stylecolor : stylecolorgris">{{cargue.Estado}}</td>
                        <td>
                            <button class="btn" style="background:#fff;" uib-tooltip="Mostrar detalle" ng-click="vm.mostrarDetalleCargueSaldos(cargue.Id)">
                                <svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="14px" height="12px" xmlns="http://www.w3.org/2000/svg">
                                    <g transform="matrix(1 0 0 1 -1184 -1541 )">
                                        <path d="M 4.23197115384615 10.8323863636364  C 4.28245192307692 10.78125  4.30769230769231 10.7159090909091  4.30769230769231 10.6363636363636  L 4.30769230769231 9  C 4.30769230769231 8.92045454545454  4.28245192307692 8.85511363636364  4.23197115384615 8.80397727272727  C 4.18149038461539 8.75284090909091  4.11698717948718 8.72727272727273  4.03846153846154 8.72727272727273  L 1.34615384615385 8.72727272727273  C 1.26762820512821 8.72727272727273  1.203125 8.75284090909091  1.15264423076923 8.80397727272727  C 1.10216346153846 8.85511363636364  1.07692307692308 8.92045454545454  1.07692307692308 9  L 1.07692307692308 10.6363636363636  C 1.07692307692308 10.7159090909091  1.10216346153846 10.78125  1.15264423076923 10.8323863636364  C 1.203125 10.8835227272727  1.26762820512821 10.9090909090909  1.34615384615385 10.9090909090909  L 4.03846153846154 10.9090909090909  C 4.11698717948718 10.9090909090909  4.18149038461539 10.8835227272727  4.23197115384615 10.8323863636364  Z M 4.23197115384615 7.55965909090909  C 4.28245192307692 7.50852272727273  4.30769230769231 7.44318181818182  4.30769230769231 7.36363636363636  L 4.30769230769231 5.72727272727273  C 4.30769230769231 5.64772727272727  4.28245192307692 5.58238636363636  4.23197115384615 5.53125  C 4.18149038461539 5.48011363636364  4.11698717948718 5.45454545454546  4.03846153846154 5.45454545454546  L 1.34615384615385 5.45454545454546  C 1.26762820512821 5.45454545454546  1.203125 5.48011363636364  1.15264423076923 5.53125  C 1.10216346153846 5.58238636363636  1.07692307692308 5.64772727272727  1.07692307692308 5.72727272727273  L 1.07692307692308 7.36363636363636  C 1.07692307692308 7.44318181818182  1.10216346153846 7.50852272727273  1.15264423076923 7.55965909090909  C 1.203125 7.61079545454546  1.26762820512821 7.63636363636364  1.34615384615385 7.63636363636364  L 4.03846153846154 7.63636363636364  C 4.11698717948718 7.63636363636364  4.18149038461539 7.61079545454546  4.23197115384615 7.55965909090909  Z M 8.53966346153846 10.8323863636364  C 8.59014423076923 10.78125  8.61538461538462 10.7159090909091  8.61538461538462 10.6363636363636  L 8.61538461538462 9  C 8.61538461538462 8.92045454545454  8.59014423076923 8.85511363636364  8.53966346153846 8.80397727272727  C 8.48918269230769 8.75284090909091  8.42467948717949 8.72727272727273  8.34615384615385 8.72727272727273  L 5.65384615384615 8.72727272727273  C 5.57532051282051 8.72727272727273  5.51081730769231 8.75284090909091  5.46033653846154 8.80397727272727  C 5.40985576923077 8.85511363636364  5.38461538461539 8.92045454545454  5.38461538461539 9  L 5.38461538461539 10.6363636363636  C 5.38461538461539 10.7159090909091  5.40985576923077 10.78125  5.46033653846154 10.8323863636364  C 5.51081730769231 10.8835227272727  5.57532051282051 10.9090909090909  5.65384615384615 10.9090909090909  L 8.34615384615385 10.9090909090909  C 8.42467948717949 10.9090909090909  8.48918269230769 10.8835227272727  8.53966346153846 10.8323863636364  Z M 4.23197115384615 4.28693181818182  C 4.28245192307692 4.23579545454546  4.30769230769231 4.17045454545455  4.30769230769231 4.09090909090909  L 4.30769230769231 2.45454545454546  C 4.30769230769231 2.375  4.28245192307692 2.30965909090909  4.23197115384615 2.25852272727273  C 4.18149038461539 2.20738636363636  4.11698717948718 2.18181818181818  4.03846153846154 2.18181818181818  L 1.34615384615385 2.18181818181818  C 1.26762820512821 2.18181818181818  1.203125 2.20738636363636  1.15264423076923 2.25852272727273  C 1.10216346153846 2.30965909090909  1.07692307692308 2.375  1.07692307692308 2.45454545454546  L 1.07692307692308 4.09090909090909  C 1.07692307692308 4.17045454545455  1.10216346153846 4.23579545454546  1.15264423076923 4.28693181818182  C 1.203125 4.33806818181818  1.26762820512821 4.36363636363636  1.34615384615385 4.36363636363636  L 4.03846153846154 4.36363636363636  C 4.11698717948718 4.36363636363636  4.18149038461539 4.33806818181818  4.23197115384615 4.28693181818182  Z M 8.53966346153846 7.55965909090909  C 8.59014423076923 7.50852272727273  8.61538461538462 7.44318181818182  8.61538461538462 7.36363636363636  L 8.61538461538462 5.72727272727273  C 8.61538461538462 5.64772727272727  8.59014423076923 5.58238636363636  8.53966346153846 5.53125  C 8.48918269230769 5.48011363636364  8.42467948717949 5.45454545454546  8.34615384615385 5.45454545454546  L 5.65384615384615 5.45454545454546  C 5.57532051282051 5.45454545454546  5.51081730769231 5.48011363636364  5.46033653846154 5.53125  C 5.40985576923077 5.58238636363636  5.38461538461539 5.64772727272727  5.38461538461539 5.72727272727273  L 5.38461538461539 7.36363636363636  C 5.38461538461539 7.44318181818182  5.40985576923077 7.50852272727273  5.46033653846154 7.55965909090909  C 5.51081730769231 7.61079545454546  5.57532051282051 7.63636363636364  5.65384615384615 7.63636363636364  L 8.34615384615385 7.63636363636364  C 8.42467948717949 7.63636363636364  8.48918269230769 7.61079545454546  8.53966346153846 7.55965909090909  Z M 12.8473557692308 10.8323863636364  C 12.8978365384615 10.78125  12.9230769230769 10.7159090909091  12.9230769230769 10.6363636363636  L 12.9230769230769 9  C 12.9230769230769 8.92045454545454  12.8978365384615 8.85511363636364  12.8473557692308 8.80397727272727  C 12.796875 8.75284090909091  12.7323717948718 8.72727272727273  12.6538461538462 8.72727272727273  L 9.96153846153846 8.72727272727273  C 9.88301282051282 8.72727272727273  9.81850961538462 8.75284090909091  9.76802884615385 8.80397727272727  C 9.71754807692308 8.85511363636364  9.69230769230769 8.92045454545454  9.69230769230769 9  L 9.69230769230769 10.6363636363636  C 9.69230769230769 10.7159090909091  9.71754807692308 10.78125  9.76802884615385 10.8323863636364  C 9.81850961538462 10.8835227272727  9.88301282051282 10.9090909090909  9.96153846153846 10.9090909090909  L 12.6538461538462 10.9090909090909  C 12.7323717948718 10.9090909090909  12.796875 10.8835227272727  12.8473557692308 10.8323863636364  Z M 8.53966346153846 4.28693181818182  C 8.59014423076923 4.23579545454546  8.61538461538462 4.17045454545455  8.61538461538462 4.09090909090909  L 8.61538461538462 2.45454545454546  C 8.61538461538462 2.375  8.59014423076923 2.30965909090909  8.53966346153846 2.25852272727273  C 8.48918269230769 2.20738636363636  8.42467948717949 2.18181818181818  8.34615384615385 2.18181818181818  L 5.65384615384615 2.18181818181818  C 5.57532051282051 2.18181818181818  5.51081730769231 2.20738636363636  5.46033653846154 2.25852272727273  C 5.40985576923077 2.30965909090909  5.38461538461539 2.375  5.38461538461539 2.45454545454546  L 5.38461538461539 4.09090909090909  C 5.38461538461539 4.17045454545455  5.40985576923077 4.23579545454546  5.46033653846154 4.28693181818182  C 5.51081730769231 4.33806818181818  5.57532051282051 4.36363636363636  5.65384615384615 4.36363636363636  L 8.34615384615385 4.36363636363636  C 8.42467948717949 4.36363636363636  8.48918269230769 4.33806818181818  8.53966346153846 4.28693181818182  Z M 12.8473557692308 7.55965909090909  C 12.8978365384615 7.50852272727273  12.9230769230769 7.44318181818182  12.9230769230769 7.36363636363636  L 12.9230769230769 5.72727272727273  C 12.9230769230769 5.64772727272727  12.8978365384615 5.58238636363636  12.8473557692308 5.53125  C 12.796875 5.48011363636364  12.7323717948718 5.45454545454546  12.6538461538462 5.45454545454546  L 9.96153846153846 5.45454545454546  C 9.88301282051282 5.45454545454546  9.81850961538462 5.48011363636364  9.76802884615385 5.53125  C 9.71754807692308 5.58238636363636  9.69230769230769 5.64772727272727  9.69230769230769 5.72727272727273  L 9.69230769230769 7.36363636363636  C 9.69230769230769 7.44318181818182  9.71754807692308 7.50852272727273  9.76802884615385 7.55965909090909  C 9.81850961538462 7.61079545454546  9.88301282051282 7.63636363636364  9.96153846153846 7.63636363636364  L 12.6538461538462 7.63636363636364  C 12.7323717948718 7.63636363636364  12.796875 7.61079545454546  12.8473557692308 7.55965909090909  Z M 12.8473557692308 4.28693181818182  C 12.8978365384615 4.23579545454546  12.9230769230769 4.17045454545455  12.9230769230769 4.09090909090909  L 12.9230769230769 2.45454545454546  C 12.9230769230769 2.375  12.8978365384615 2.30965909090909  12.8473557692308 2.25852272727273  C 12.796875 2.20738636363636  12.7323717948718 2.18181818181818  12.6538461538462 2.18181818181818  L 9.96153846153846 2.18181818181818  C 9.88301282051282 2.18181818181818  9.81850961538462 2.20738636363636  9.76802884615385 2.25852272727273  C 9.71754807692308 2.30965909090909  9.69230769230769 2.375  9.69230769230769 2.45454545454546  L 9.69230769230769 4.09090909090909  C 9.69230769230769 4.17045454545455  9.71754807692308 4.23579545454546  9.76802884615385 4.28693181818182  C 9.81850961538462 4.33806818181818  9.88301282051282 4.36363636363636  9.96153846153846 4.36363636363636  L 12.6538461538462 4.36363636363636  C 12.7323717948718 4.36363636363636  12.796875 4.33806818181818  12.8473557692308 4.28693181818182  Z M 13.6045673076923 0.400568181818181  C 13.8681891025641 0.667613636363635  14 0.988636363636364  14 1.36363636363636  L 14 10.6363636363636  C 14 11.0113636363636  13.8681891025641 11.3323863636364  13.6045673076923 11.5994318181818  C 13.3409455128205 11.8664772727273  13.0240384615385 12  12.6538461538462 12  L 1.34615384615385 12  C 0.975961538461539 12  0.659054487179487 11.8664772727273  0.395432692307692 11.5994318181818  C 0.131810897435897 11.3323863636364  0 11.0113636363636  0 10.6363636363636  L 0 1.36363636363636  C 0 0.988636363636364  0.131810897435897 0.667613636363635  0.395432692307692 0.400568181818181  C 0.659054487179487 0.133522727272726  0.975961538461539 0  1.34615384615385 0  L 12.6538461538462 0  C 13.0240384615385 0  13.3409455128205 0.133522727272726  13.6045673076923 0.400568181818181  Z " fill-rule="nonzero" fill="#3366cc" stroke="none" transform="matrix(1 0 0 1 1184 1541 )" />
                                    </g>
                                </svg>
                            </button>
                        </td>
                        <td>
                            <button class="btn" style="background:#fff;" uib-tooltip="Decargar archivo" ng-click="vm.descargarCargueSaldos(cargue.Id)">
                                <svg style="color: rgb(83, 137, 223); padding-top: 1.2rem;" xmlns="http://www.w3.org/2000/svg" width="58" height="58" fill="currentColor" class="bi bi-cloud-arrow-down-fill" viewBox="0 0 28 28"> <path d="M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 6.854-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 1 1 .708-.708L7.5 9.293V5.5a.5.5 0 0 1 1 0v3.793l1.146-1.147a.5.5 0 0 1 .708.708z" fill="#5389df"></path> </svg>

                            </button>
                        </td>

                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row" ng-if="vm.MostrarDetalle" style="padding-top:2rem;">
        <div class="col-md-11" style="color: #004884; font-weight: 400; font-size: 20px; padding-top: 3rem;">
            <span>{{vm.listaDetalleSaldodArchivo[0].DescripcionProceso}} {{vm.listaDetalleSaldodArchivo[0].Fecha | date : "dd/MM/yyyy HH:mm"}} - {{vm.listaDetalleSaldodArchivo[0].Estado}}</span>
            <svg ng-click="vm.abrirTooltip('Detalle')" class="mi-card__tooltip-icon" xmlns="http://www.w3.org/2000/svg" width="17.037" height="17.037" viewBox="0 0 17.037 17.037">
                <g id="Grupo_5110" data-name="Grupo 5110" transform="translate(0 0)">
                    <path id="Caminho_9243" data-name="Caminho 9243" d="M8.552,0A8.552,8.552,0,0,0,0,8.485a8.609,8.609,0,0,0,8.552,8.552A8.519,8.519,0,0,0,8.552,0Zm0,14.542a1,1,0,1,1,1-1A1,1,0,0,1,8.552,14.542Zm1.769-6.136A2.663,2.663,0,0,0,9.55,10.22v.262a1,1,0,0,1-2,0V10.22A4.614,4.614,0,0,1,9.141,6.8,1,1,0,1,0,7.554,5.99a1,1,0,0,1-2,0,2.995,2.995,0,1,1,4.764,2.416Z" transform="translate(0 0)" fill="#36c"></path>
                </g>
            </svg>
        </div>
        <div class="col-md-1" style="color: #004884; font-weight: 400; font-size: 20px; padding-top: 3rem;">
            <button id="btnOcultarArchivo" class="btncancearch pull-right" type="button" uib-tooltip="Cerrar detalle" ng-click="vm.ocultarDetalle()" style="color:#004884">
                X
            </button>
        </div>
        <div class="col-md-12" style=" padding-top: 3rem;">
            <table class="TableDNP">
                <thead>
                    <tr>
                        <th class="columAcc">

                        </th>
                        <th class="textLeftDNP">Código / Entidad</th>
                        <th class="textLeftDNP">Código presupuestal</th>
                        <th class="textLeftDNP">Fuente</th>
                        <th class="textLeftDNP">Recursos</th>
                        <th class="textLeftDNP">Situación</th>
                        <th class="textRightDNP">Valor total $</th>
                        <th class="columAcc"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="detalle in vm.listaDetalleSaldodArchivo">
                        <td></td>
                        <td>{{detalle.CodigoUnidadEjecutora}} / {{detalle.UnidadEjecutora}}</td>
                        <td>{{detalle.CodigoPresupuestal}}</td>
                        <td class="textLeftDNP">{{detalle.TipoRecurso}}</td>
                        <td class="textLeftDNP">{{detalle.Fuente}}</td>
                        <td>{{detalle.SituacionFondo}}</td>
                        <td class="textRightDNP">{{detalle.Valor | number:2}}</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>


    <div class="row" style="padding-top:3rem;">
        <div class="col-md-12 DetacolumnDNP">
            <span>
                Archivo plantilla carga masiva <img ng-click="vm.abrirTooltip('Plantilla')" id="u1275_img" class="imgTituloAccion " src="Img/u1275.svg">
            </span>
            <button type="button" class="btn btn-link btn-md buttonhiperDNP" ng-click="vm.descargarPlantila()">
                DESCARGAR PLANTILLA
            </button>
        </div>
    </div>

    <div class="row" ng-if="vm.MostrarErrores">

        <div class="col-md-12 DetacolumnDNP">
            <span style="color:red">
                Errores carga masiva <img ng-click="vm.abrirTooltip('Errores')" id="u1275_img" class="imgTituloAccion " src="Img/u1275.svg">
            </span>
            <button type="button" class="btn btn-link btn-md buttonhiperDNP" ng-click="vm.exportarSaldosCargaMasivaExcelErrores()">
                DESCARGAR ARCHIVO DE ERRORES
            </button>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <span class="uLabelCampoNegro">Tipo cargue</span>
        </div>
        <div class="col-md-12" style="padding-bottom: 1rem;">
            <div id="tipoarchivo-error-{{vm.nombreComponente}}" class="hidden uMensajeError" style="width:100%;padding-left:1.5rem;"><span style=" padding-left: 2rem;">Campo obligatorio</span></div>
        </div>
        <div class="col-md-8">

            <div class="row">

                <div class="col-md-4" style="">
                    <div class="row">
                        <div class="col-md-12" style="">
                            <select name="ddlTipoArchivo" ng-change="vm.CambiarTipoArchivo(this)" class="select" id="ddlTipoArchivo" style="width:98%;" ng-model="vm.idTipoArchivoSeleccionado">
                                <option class="option" value=''>Seleccione...</option>
                                <option class="option" ng-repeat="tipoArchivo in vm.listaTipoArchivos" ng-value="tipoArchivo.Id">{{ tipoArchivo.TipoArchivo }} </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="divpanelcargarchivoDNP" style="width: auto; ">
                        <button id="btnBuscarArchivo" class="btncargarch" type="button" uib-tooltip="Editar" ng-click="vm.adjuntarArchivo()">
                            EXAMINAR
                        </button>
                        <input type="file" style="display:none" id="archivoCargaMasiva" name='archivosCargaMasiva[]' onchange="angular.element(this).scope().archivoCargaMasivaNameChanged(this)" accept=".xlsx, .xls, .csv" multiple />
                        <input type="search" style="display:none" id="archivoCargaMasivanombrearchivo" ng-model="vm.nombrearchivo" class="form-control InputSearchDNP " placeholder="" ng-change="ChangeCreditoCargaMasivaSet()">
                        <span>{{vm.nombrearchivo}}</span>
                        <button id="btnCancelarArchivo" class="btncancearch" type="button" uib-tooltip="Cancelar" ng-click="vm.limpiarArchivo()">
                            X
                        </button>
                    </div>
                </div>

            </div>

        </div>
        <div class="col-md-4">
            <span class="buttonbar pull-right" style="margin-left: 1rem; width: 90%;">
                <button id="btnCargaMasivaValidarArchivo" type="button" class="btn btnguardarDNP" tooltip-placement="top" uib-tooltip="Editar" tabindex="0" ng-click="vm.validarArchivo()">
                    VALIDAR
                </button>
                <button id="btnCargaMasivaLimpiarArchivo" type="button" class="btn btnguardarDNP" tooltip-placement="top" uib-tooltip="Cancelar" tabindex="0" ng-click="vm.limpiarArchivo()">
                    CANCELAR
                </button>
                <button id="btnCargaMasivaArchivoSeleccionado" class="btn btnguardarDNP" type="button" tooltip-placement="top" uib-tooltip="Guardar" tabindex="0" ng-click="vm.RegistrarCargaMasivaSaldos()">
                    PROCESAR
                </button>
            </span>
        </div>

    </div>

    <div class="row">
        <div class="col-md-12 DetacolumnDNP">
            <span class="detapregun">
                Nota:
            </span>
            <span class="notapregun">
                Los datos cargados previamente en las entidades se reescribiran si se realiza una carga masiva
            </span>
        </div>
    </div>
</div>