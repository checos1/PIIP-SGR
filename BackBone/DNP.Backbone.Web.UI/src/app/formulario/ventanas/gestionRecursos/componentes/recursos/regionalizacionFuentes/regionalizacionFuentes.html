<style>
    .head {
        border-left: 2px solid #3f73e2;
        border-top: 2px solid #3f73e2;
        padding-left: 40px;
        height: auto;
    }

    .uLabelDetalle_FP {
        color: #004884 !important;
        font-family: 'Work Sans';
        letter-spacing: 0px;
        font-size: 16px;
    }

    .uLabelCampo_fp {
        color: #004884 !important;
        font-family: 'Work Sans';
        letter-spacing: 0px;
        font-weight: 500;
        font-size: 16px;
    }

    .btn-primary, .btn-primary:hover, .btn-primary:active, .btn-primary:visited {
        background-color: #8064A2 !important;
    }
</style>
<div ng-init="vm.init();">
    <form id="regionalizacionFuentesForm" name="regionalizacionFuentesForm" novalidate>
        <div class="col-md-12">
            <div class="col-md-8 form-group text-left" style="padding-right:2rem;">
                <span class="DetalleFormularioDNP">Active el botón editar, despliegue las localizaciones, editelas, y guarde mediante el botón guardar.</span>
            </div>
            <div class="col-md-4 form-group text-right" style="padding-right:2rem;">
                <button  has-claim has-opciones="['RegionalizacionGR:VerEditar']" id="Editar"
                        type="button" class="btneditarDNP"
                        tooltip-placement="top"
                        uib-tooltip="Clic para editar la información"
                        ng-click="vm.ActivarEditar()">
                    EDITAR
                </button>
                &nbsp;
                <button  has-claim has-opciones="['RegionalizacionGR:VerEditar']" id="Guardar"
                        type="submit"
                        class="{{vm.disabled ? 'btnguardarDisabledDNP' : 'btnguardarDNP'}}"
                        tooltip-placement="top"
                        uib-tooltip="Guardar modificación"
                        ng-click="vm.actualizarRegionalizacionFuente(vm.listaProductos)"
                        ng-disabled="vm.disabled">
                    GUARDAR
                </button>

            </div>
        </div>
        <br />
        <div ng-repeat="producto in vm.listaProductos" ng-init="productosIndex = $index" style="width:99%">
            <br />
            <div id="recursosgrregionalizacion{{producto.ProductoId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
            <div ng-repeat="fuente in producto.Fuentes" ng-init="fuenteIndex = $index">
                <br />
                <table ng-if="fuente" class="table-white">
                    <thead>
                        <tr style="text-align:center;">
                            <td style="width: 40%; text-align: left;"><label class="col-form-label" style="text-align:left"><span class="uLabelCampo_fp">Producto</span></label></td>
                            <td style="width: 40%; text-align: left;"><label class="col-form-label" style="text-align:left"><span class="uLabelCampo_fp">Fuente de financiación</span></label></td>
                            <td style="width: 20%; text-align: right;"><label class="col-form-label" style="text-align:left"><span class="uLabelCampo_fp">Total fuente $</span></label></td>
                        </tr>
                    </thead>
                    <tbody style="border-width: 2px; border-style: solid; border-color: rgba(230, 239, 253, 1); border-collapse: collapse;">
                        <tr>
                            <td style="min-height: 20px; overflow-y: scroll; overflow-x: hidden; width: 40%; text-align: left;padding: 10px;margin: 1px 0;">
                                <span class="uLabelCampo_fp">{{producto.Producto}}</span>
                            </td>
                            <td style="min-height: 20px; overflow-y: scroll; overflow-x: hidden; width: 40%; text-align: left;padding: 10px; margin: 1px 0; ">
                                <span class="uLabelCampo_fp">Etapa: </span><span class="uLabelDetalle_FP" style="font-size: 16px;color: #4B4B4B">{{fuente.Etapa}}</span>
                                <span class="uLabelCampo_fp">Tipo Financiador: </span><span class="uLabelDetalle_FP" style="font-size: 16px; color: #4B4B4B">{{fuente.TipoFinanciador}} </span>
                                <span class="uLabelCampo_fp">Financiador: </span><span class="uLabelDetalle_FP" style="font-size: 16px; color: #4B4B4B">{{fuente.Financiador}}</span>
                                <span class="uLabelCampo_fp">Recurso: </span><span class="uLabelDetalle_FP" style="font-size: 16px; color: #4B4B4B">{{fuente.Recurso}}</span>
                            </td>
                            <td style="min-height: 20px; width: 20%; text-align: right; padding: 10px; margin: 1px 0;">
                                <span class="uLabelDetalle_FP" style="font-size: 16px">{{fuente.TotalFuenteF}}</span>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div id="recursosgrregionalizacion{{producto.ProductoId}}{{fuente.FuenteId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                <div id="recursosgrregionalizacionF{{producto.ProductoId}}{{fuente.FuenteId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!--<table class="table-white" style="width:100%">
                    <thead>
                        <tr style="text-align:center;" class="utitulo-grilla">
                            <td style="width: 5%;  text-align: left; height:50px"></td>
                            <td style="width: 20%; text-align: left; height:50px"><label class="col-form-label"><span class="uLabelCampo_fp">Departamento</span></label></td>
                            <td style="width: 25%; text-align: left; height:50px"><label class="col-form-label"><span class="uLabelCampo_fp">Municipio</span></label></td>
                            <td style="width: 25%; text-align: left; height:50px"><label class="col-form-label"><span class="uLabelCampo_fp">Tipo Agrupación</span></label></td>
                            <td style="width: 25%; text-align: left; height:50px"><label class="col-form-label"><span class="uLabelCampo_fp">Agrupación</span></label></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="uTexto-grilla ng-scope" ng-repeat="localizacion in fuente.Localizacion" ng-init="localizacionIndex = $index" style="border: 1px solid #ddd;">
                            <td colspan="5">
                                <table style="width: 100%;">
                                    <tr>
                                        <td style="width: 5%; text-align: left; vertical-align: bottom;">
                                        </td>
                                        <td style="width:20%; text-align: left;"><span class="uLabelDetalle_FP">{{localizacion.Departamento}}</span></td>
                                        <td style="width:25%; text-align: left;"><span class="uLabelDetalle_FP">{{localizacion.Municipio}}</span></td>
                                        <td style="width:25%; text-align: left;"><span class="uLabelDetalle_FP">{{localizacion.TipoAgrupacion}}</span></td>
                                        <td style="width:25%; text-align: left;"><span class="uLabelDetalle_FP">{{localizacion.Agrupacion}}</span></td>
                                    </tr>
                                    <tr>
                                        <td style="width: 5%; text-align: left; vertical-align: bottom; padding: 5px; padding-left: -5px; ">
                                            <button class="btn-primary" type="button" data-toggle="collapse"
                                                    ng-click="vm.mostrarOcultarFlujo(producto.ProductoId + '' + fuente.FuenteId + '' + localizacion.LocalizacionId)"
                                                    data-target="#loc{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}">
                                                <label id="ico{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}"> + </label>
                                            </button>
                                            <span class="d-inline-block" id="alert-recursosgrregionalizacion{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}"></span>
                                        </td>
                                        <td colspan="4" style="text-align: left;">
                                            <div id="GRFVR{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                            <div id="GRFVP{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                            <div id="GRLVR{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <div class="collapse" id="loc{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" style="padding-left: 40px !important;">
                                                <div class="col-md-12 form-group" style="padding-right: 2rem;">
                                                    <table class="table" style="text-align: left;">
                                                        <thead class="head">
                                                            <tr>
                                                                <th scope="col"><span class="uLabelCampo_fp">&nbsp;</span></th>
                                                                <th scope="col"><span class="uLabelCampo_fp">Año</span></th>
                                                                <th scope="col" style="text-align:right"><span class="uLabelCampo_fp">Costo MGA $</span></th>
                                                                <th scope="col" style="text-align:right"><span class="uLabelCampo_fp">Regionalizado MGA $</span></th>
                                                                <th scope="col" style="text-align:right"><span class="uLabelCampo_fp">Meta MGA</span></th>
                                                                <th scope="col" style="text-align:right"><span class="uLabelCampo_fp">Valor Fuente $</span></th>
                                                                <th scope="col" style="text-align:right"><span class="uLabelCampo_fp">Total solicitado $</span></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="vigencia in localizacion.Vigencias" ng-init="vigenciaIndex = $index">
                                                                <td><img id="img{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}{{vigencia.Vigencia}}" class="img" src="Img/u11.svg" style="display:none;"></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'"><span class="uLabelDetalle_FP">{{vigencia.Vigencia}}</span></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'" style="text-align:right"><span class="uLabelDetalle_FP">{{vm.ConvertirNumero(vigencia.CostoMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'" style="text-align:right"><span class="uLabelDetalle_FP">{{vm.ConvertirNumero(vigencia.RegionalizadoMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'" style="text-align:right"><span class="uLabelDetalle_FP">{{vm.ConvertirNumero4(vigencia.MetaMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'" style="text-align:right"><span class="uLabelDetalle_FP">{{vm.ConvertirNumero(vigencia.ValorFuente)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia != 'TOTAL'">
                                                                    <div ng-if="!vm.permiteEditar" style="text-align:right"><span class="uLabelDetalle_FP">{{vm.ConvertirNumero(vigencia.Totalsolicitado)}}</span></div>
                                                                    <input type="number" string-to-number min="0.00"
                                                                           id="input{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}{{vigencia.Vigencia}}"
                                                                           ng-if="vm.permiteEditar"
                                                                           ng-value="vigencia.Totalsolicitado"
                                                                           ng-model="vm.listaProductos[productosIndex].Fuentes[fuenteIndex].Localizacion[localizacionIndex].Vigencias[vigenciaIndex].Totalsolicitado"
                                                                           ng-keypress="vm.validateFormat($event)"
                                                                           ng-keyup="vm.validarTamanio($event)"
                                                                           ng-blur="vm.actualizaFila($event,producto.ProductoId + '' + fuente.FuenteId + '' + localizacion.LocalizacionId,productosIndex, fuenteIndex, localizacionIndex)"
                                                                           ng-disabled="vm.disabled" />
                                                                </td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'"><span class="uLabelCampo_fp">TOTAL</span></td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><span class="uLabelCampo_fp">{{vm.ConvertirNumero(vigencia.CostoMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><span class="uLabelCampo_fp">{{vm.ConvertirNumero(vigencia.RegionalizadoMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><span class="uLabelCampo_fp">{{vm.ConvertirNumero4(vigencia.MetaMGA)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><span class="uLabelCampo_fp">{{vm.ConvertirNumero(vigencia.ValorFuente)}}</span></td>
                                                                <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right">
                                                                    <span id="label{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="uLabelCampo_fp">
                                                                        {{vm.ConvertirNumero(vigencia.Totalsolicitado)}}
                                                                    </span>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <br />
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>-->
                <!--///////////////////-->
                <table class="TableDNP no-border">
                    <thead>
                        <tr>
                            <th class="columAcc"> </th>
                            <th class="textLeftDNP">Departamento</th>
                            <th class="textLeftDNP">Municipio</th>
                            <th class="textLeftDNP">Tipo agrupación </th>
                            <th class="textLeftDNP">Agrupación </th>
                            <th class="columAcc"></th>
                        </tr>
                    </thead>

                    <tbody ng-repeat="localizacion in fuente.Localizacion" ng-init="localizacionIndex = $index">
                        <tr class="bottontransDNP">
                            <td>
                            </td>
                            <td class="textLeftDNP">
                                {{localizacion.Departamento}}
                            </td>
                            <td class="textLeftDNP">{{localizacion.Municipio}}</td>
                            <td class="textLeftDNP">{{localizacion.TipoAgrupacion}}</td>
                            <td class="textLeftDNP">{{localizacion.Agrupacion}}</td>
                            <td class="textCenterDNP">
                            </td>
                        </tr>
                        <tr class="filaAnidada">
                            <td colspan="1">
                                <button class="btnaccion btntablednp" type="button" data-toggle="collapse" data-target="#loc{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" ng-click="vm.mostrarOcultarFlujo(producto.ProductoId, fuente.FuenteId, localizacion.LocalizacionId)">

                                    <img id="imgmas{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" style="width:18px;height:18px" src="Img/btnMas.svg">
                                    <img id="imgmenos{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" style="width:18px;height:18px;display:none" src="Img/btnMenos.svg">
                                </button>
                                <label style="display:none" id="ico{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}">+</label>
                                <span class="d-inline-block" id="alert-recursosgrregionalizacion{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}"></span>
                                <!--<div id="indicador-" class="img pull-right iconadverdnp">   <img class="" src="Img/u4630.svg"> </div>-->
                            </td>
                            <td colspan="5">
                                <div id="GRFVR{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                <div id="GRFVP{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                                <div id="GRLVR{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="hidden" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
                            </td>
                        </tr>
                        <tr class="no-border collapse alert panel-heading" id="loc{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}">
                            <td colspan="8" class="p-0">
                                <div ng-if="vm.fuenteConsultada == fuente.FuenteId && vm.productoConsultado == producto.ProductoId  && vm.localizacionConsultada == localizacion.LocalizacionId">
                                    <div class="LineaEncabezado2tabDNP"></div>
                                    <h3 class="row tituloEncabezadotabDNP">
                                        Detalle localización

                                    </h3>


                                    <div class="row">
                                        <div class="alert panel-heading">
                                            <table class="TableDNP">
                                                <thead>
                                                    <tr>
                                                        <th class="columAcc"></th>
                                                        <th class="textRightDNP"><span class="uLabelCampo">Año</span></th>
                                                        <th class="textRightDNP">Costo MGA $ </th>
                                                        <th class="textRightDNP">Regionalizado MGA $</th>
                                                        <th class="textRightDNP">Meta MGA</th>
                                                        <th class="textRightDNP">Valor fuente $</th>
                                                        <th class="textRightDNP" style="min-width:180px">Total solicitado $</th>
                                                        <th class="columAcc"></th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="vigencia in localizacion.Vigencias" ng-init="vigenciaIndex = $index">
                                                        <td>
                                                            <img id="img{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}{{vigencia.Vigencia}}" class="iconoErrorDNP" src="Img/u4630.svg" style="display:none;">
                                                            <span ng-if="vigencia.Vigencia == 'TOTAL'" style="margin-top: 55%;font-family: 'Work Sans SemiBold Roman', 'Work Sans Regular Roman', 'Work Sans'; font-weight: 600; font-style: normal; font-size: 30px; color: rgba(50, 102, 204, 0.996078431372549);">=</span>
                                                        </td>


                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" class="textRightDNP"> <input type="text" class="form-control editInputDNP " disabled value="{{vigencia.Vigencia}}" /></td>
                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " disabled value="{{vigencia.CostoMGAF}}" /></td>
                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " disabled value="{{vigencia.RegionalizadoMGAF}}" /></td>
                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " disabled value="{{vigencia.MetaMGAF}}" /></td>
                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " disabled value="{{vigencia.ValorFuenteF}}" /></td>
                                                        <td ng-if="vigencia.Vigencia != 'TOTAL'" style="width:180px">
                                                            <div id="Divin{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}{{vigencia.Vigencia}}"
                                                                 ng-show="!vm.permiteEditar" style="text-align: right;padding-right: 3px; margin-left: 5px ">{{vm.ConvertirNumero(vigencia.Totalsolicitado)}}</div>

                                                            <input type="text" string-to-number min="0.00" class="form-control editInputDNP"
                                                                   id="input{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}{{vigencia.Vigencia}}"
                                                                   ng-show="vm.permiteEditar"
                                                                   ng-value="vigencia.Totalsolicitado"
                                                                   ng-model="vm.listaProductos[productosIndex].Fuentes[fuenteIndex].Localizacion[localizacionIndex].Vigencias[vigenciaIndex].Totalsolicitado"
                                                                   ng-keypress="vm.validateFormat($event)"
                                                                   ng-keyup="vm.validarTamanio($event)"
                                                                   ng-blur="vm.actualizaFila($event,producto.ProductoId + '' + fuente.FuenteId + '' + localizacion.LocalizacionId,productosIndex, fuenteIndex, localizacionIndex)"
                                                                   ng-disabled="vm.disabled" style="text-align:right;padding: 0px 5px 0px 5px;margin-left: 5px" />
                                                        </td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP"><span class="uLabelCampo_fp">TOTAL</span></td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " style="font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans'; font-weight: 500; font-style: normal; font-size: 16px; color: #004884; text-align: right; padding: 0px 5px 0px 5px; margin-left: 5px" disabled value="{{vm.ConvertirNumero(vigencia.CostoMGA)}}" /></td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " style="font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans'; font-weight: 500; font-style: normal; font-size: 16px; color: #004884; text-align: right; padding: 0px 5px 0px 5px; margin-left: 5px" disabled value="{{vm.ConvertirNumero(vigencia.RegionalizadoMGA)}}" /></td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " style="font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans'; font-weight: 500; font-style: normal; font-size: 16px; color: #004884; text-align: right; padding: 0px 5px 0px 5px; margin-left: 5px" disabled value="{{vm.ConvertirNumero4(vigencia.MetaMGA)}}" /></td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP"><input type="text" class="form-control editInputDNP " style="font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans'; font-weight: 500; font-style: normal; font-size: 16px; color: #004884; text-align: right; padding: 0px 5px 0px 5px; margin-left: 5px" disabled value="{{vm.ConvertirNumero(vigencia.ValorFuente)}}" /></td>
                                                        <td ng-if="vigencia.Vigencia == 'TOTAL'" class="textRightDNP">
                                                            <span id="label{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="uLabelCampo_fp">
                                                                {{vm.ConvertirNumero(vigencia.Totalsolicitado)}}
                                                            </span>
                                                        </td>

                                                        <td></td>
                                                    </tr>
                                                </tbody>
                                                <!--<tfoot>
                        <tr>
                            <td class="columAcc icontotaldnp"><span>=</span></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'"><span class="uLabelCampo_fp">TOTAL</span></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><input type="text" class="form-control editInputDNP " disabled value="{{vm.ConvertirNumero(vigencia.CostoMGA)}}" /></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><input type="text" class="form-control editInputDNP " disabled value="{{vm.ConvertirNumero(vigencia.RegionalizadoMGA)}}" /></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><input type="text" class="form-control editInputDNP " disabled value="{{vm.ConvertirNumero4(vigencia.MetaMGA)}}" /></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right"><input type="text" class="form-control editInputDNP " disabled value="{{vm.ConvertirNumero(vigencia.ValorFuente)}}" /></td>
                            <td ng-if="vigencia.Vigencia == 'TOTAL'" style="text-align:right">
                                <span id="label{{producto.ProductoId}}{{fuente.FuenteId}}{{localizacion.LocalizacionId}}" class="uLabelCampo_fp">
                                    {{vm.ConvertirNumero(vigencia.Totalsolicitado)}}
                                </span>
                            </td>

                            <td></td>
                        </tr>
                    </tfoot>-->
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>

                <!--///////////////////////-->
                <br />
            </div>
        </div>
        <br />
    </form>
    <div class="col-md-12  form-group">
        <p style="display: grid; text-align: left; margin-top: 2em;">
            <span style="font-weight:600;">¿Requiere hacer carga masiva?</span>
            <span style="font-weight:400;">
                Descargue plantilla en Excel, diligencie los datos y guarde. Cargue nuevamente la plantilla, valídela y adiciónela. Su carga se refejará en la tabla, junto con otras cargas individuales o masivas que haya incluido.
            </span>
            <br />
            <span style="font-weight:400;">
                Para los valores de las celdas tipo número, utilice el formato "General" en el excel. Seprador de miles el punto (.). &nbsp;&nbsp;&nbsp;
                <button has-claim has-opciones="['RegionalizacionGR:VerEditar']" type="button" class="btn btn-default btncol" ng-click="vm.exportExcel()"><span class="glyphicon glyphicon-download-alt">&nbsp;</span>Descargar plantilla</button>
            </span>
        </p>
    </div>
    <div class="col-md-12  form-group">
        <p style="display: grid; text-align: left; margin-top: 2em;margin-bottom:1em;">
            <span style="font-weight:400;">
                Tipo de archivo permitido Excel. Hasta 2MB
            </span>
        </p>
    </div>
    <div class="col-md-12  form-group">
        <div class="col-md-6  file-drop-zone" file-dropzone files-to-upload="files" valida-nombre-archivo="validaNombreArchivo" data="nombreArchivo">
            Arrastre aquí su(s) archivo(s) o haga clic para añadir
            <div ng-repeat="file in files"><span>Nombre archivo:</span><span class="uLabelDetalle">{{file.nombreArchivo}}</span></div>
        </div>
        <div class="col-md-6"></div>
    </div>
    <div class="col-md-12  form-group" style="padding-bottom:1em;">
        <div class="col-md-2">
            <span class="buttonbar pull-left">
                <button has-claim has-opciones="['FuentesGR:VerEditar']" type="button" class="btn btn-default btn-md btnFiltroHeader" tooltip-placement="top" ng-click="vm.limpiarArchivo()" uib-tooltip="Eliminar archivo de caja" tabindex="0">
                    Limpiar
                </button>
            </span>
        </div>
        <div class="col-md-2">
            <span class="buttonbar pull-left">
                <button has-claim has-opciones="['FuentesGR:VerEditar']"
                        type="button" class="btn btn-default btn-md btnFiltroHeader" tooltip-placement="top" ng-click="vm.validarArchivo()" uib-tooltip="Validar archivo" tabindex="0">
                    Validar
                </button>
            </span>
        </div>
        <div class="col-md-2">
            <span class="buttonbar pull-left">
                <button has-claim has-opciones="['FuentesGR:VerEditar']"
                        type="button" class="btn btn-default btn-md btnFiltroHeader"
                        tooltip-placement="top"
                        ng-click="vm.archivoSeleccionado()"
                        uib-tooltip="Procesar archivo"
                        tabindex="0"
                        ng-disabled="vm.disabledProcesar">
                    Procesar Archivo
                </button>
            </span>
        </div>
        <div class="col-md-6">
        </div>
    </div>
    <!--///////////////////-->
    <!--<div class="row">
        <div class="col-md-8">
            <div class="divpanelcargarchivoDNP" style="">
                <button class="btncargarch" type="button" uib-tooltip="Editar" ng-click="vm.adjuntarArchivo()">
                    EXAMINAR
                </button>
                <input type="file" style="display:none" id="filefocalizacion" name='filesfocalizacion[]' onchange="angular.element(this).scope().filefocalizacionNameChanged(this)" accept="{{vm.Focalizacion.ext}}" multiple />
                <input type="search" style="display:none" id="focalizacionnombrearchivo" ng-model="vm.nombrearchivo" class="form-control InputSearchDNP " placeholder="" ng-change="ChangeFocalizacionSet()">
                <span>{{vm.nombrearchivo}}</span>
                <button class="btncancearch" type="button" uib-tooltip="Cancelar" ng-click="vm.limpiarArchivo()">
                    X
                </button>
            </div>
        </div>
        <div class="col-md-4">
            <span class="buttonbar pull-right">
                <button disabled="disabled" id="btnFocalizacionValidarArchivo" type="button" class="btn btnguardarDNP" tooltip-placement="top" uib-tooltip="Editar" tabindex="1" ng-click="vm.validarArchivo()">
                    VALIDAR
                </button>
                <button disabled="disabled" id="btnFocalizacionLimpiarArchivo" type="button" class="btn btnguardarDNP" tooltip-placement="top" uib-tooltip="Cancelar" tabindex="2" ng-click="vm.limpiarArchivo()">
                    CANCELAR
                </button>
                <button disabled="disabled" id="btnFocalizacionArchivoSeleccionado" class="btn btnguardarDNP" type="button" tooltip-placement="top" uib-tooltip="Cargar" tabindex="3" ng-click="vm.GuardarArchivoFocalizacion(false)">
                    CARGAR
                </button>
            </span>
        </div>
    </div>-->
    <!--///////////////////-->
</div>
