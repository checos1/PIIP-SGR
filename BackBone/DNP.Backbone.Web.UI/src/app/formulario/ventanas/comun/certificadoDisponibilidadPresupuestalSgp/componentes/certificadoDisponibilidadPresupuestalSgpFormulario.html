<style>
    .search-file-input {
        width: auto;
    }

    .cdp-proyecto-container .divAccordionDNP {
        max-height: 130px !important;
    }

    .cdp-proyecto-container .LineaEncabezadodivDNP {
        margin-top: 73px !important;
    }

    .d-none {
        display: none;
    }
</style>

<section id="certificadoDisponibilidadPresupuestalSgpFormulario"
         class="mt-3"
         ng-init="vm.init()">

    <article class="row">
        <div class="col-md-12 m-4">
            <span style="color: #004884; font-size: 24px; font-weight: 400;">Agregar acto administrativo o resolución</span>
        </div>
    </article>

    <article class="no-projects-availables row p-4" ng-if="vm.proyectosList.length === 0 &&  vm.getProyectoSuccess == true">
        <div class="card col-lg-12 w-100 accordion">
            <span>
                No hay proyectos asociados
            </span>
        </div>
    </article>

    <div id="ICDP002-error" class="hidden uMensajeError"></div>
    <div id="ICDP003-error" class="hidden uMensajeError"></div>
    <article class="row cdp-proyecto-container mx-auto" ng-repeat="proyecto in vm.proyectosList">

        <div class="alert panel-heading">
            <div class="card card-body pull-left  divAccordionDNP">
                <div class="col-md-12 coldivAccordionDNP" style="display: table;">
                    <div class="col-md-6">
                        <div class="col-md-12">
                            <span class="NomItemAccordDNP">BPIN: </span>
                            <span class="InfoItemAccordDNP">{{proyecto.BPIN}}</span>

                            <span class="NomItemAccordDNP">Nombre proyecto: </span>
                            <span class="InfoItemAccordDNP">
                                <span id="nombreProyecto-{{proyecto.ProyectoId}}" class="proyecto-nombre">{{proyecto.NombreProyecto}}</span>
                                <a id="btnVerMasNombre-{{proyecto.ProyectoId}}" ng-if="proyecto.NombreProyectoCompleto != proyecto.NombreProyecto" ng-click="vm.verNombreCompleto('nombreProyecto-'+ proyecto.ProyectoId, proyecto.ProyectoId)">
                                    Ver mas
                                </a>
                            </span>

                        </div>
                        <div class="col-md-12">
                            <span class="NomItemAccordDNP">Operación: </span>
                            <span class="InfoItemAccordDNP">{{proyecto.TipoProyecto}} </span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="col-md-12 til">
                            <span>Total sgp solicitado $ </span>
                        </div>
                        <div class="col-md-12 pull-right">
                            <input type="text" class="form-control editInputDNP " disabled value="{{proyecto.ValorMontoTramiteNacion | number: 2}}" />

                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="col-md-12 til">
                            <span>Total propios solicitado $ </span>
                        </div>
                        <div class="col-md-12 pull-right">
                            <input type="text" class="form-control editInputDNP " disabled value="{{proyecto.ValorMontoTramitePropios | number: 2}}" />
                        </div>
                    </div>
                </div>
                <p class="panelbtnalertAcordnp">
                    <button class="btnaccion btnAccordionDNP mt-auto" type="button" data-toggle="collapse" data-target="#detalleProyecto-{{proyecto.ProyectoId}}" ng-click="vm.expandirProyecto(proyecto.ProyectoId)">
                        <div class="col-md-6" style="display: table;">
                            <div class="col-md-2">
                                <img id="verMas-{{proyecto.ProyectoId}}" src="Img/btnMas.svg" style="display: block">
                            </div>
                            <div class="col-md-2">
                                <img id="verMenos-{{proyecto.ProyectoId}}" src="Img/btnMenos.svg" style="display: none">
                            </div>
                            <div class="col-md-2">
                                <span id="ICDP003-{{proyecto.ProyectoId}}" class="hidden uMensajeError"></span>
                            </div>
                        </div>
                    </button>
                    <span class="errores-contenedor" id="error-button-proyecto-{{proyecto.ProyectoId}}" ng-if="vm.errorList[proyecto.ProyectoId] !== undefined">
                        <span class="img iconadverdnp"><img src="Img/u4630.svg"> </span>
                        <span class="messagealerttableDNP" id="error-txt-button-proyecto-{{proyecto.ProyectoId}}">{{vm.errorList[proyecto.ProyectoId]}}</span>
                    </span>

                </p>
            </div>
        </div>
        <br />
        <div class="collapse pt-1" id="detalleProyecto-{{proyecto.ProyectoId}}">
            <div class="LineaEncabezadodivDNP" style="margin-top:63PX;"></div>
            <h3 class="row tituloEncabezadodivDNP">
                Agregar acto administrativo o resolución
            </h3>

            <div class="panel-heading collapse-content">
                <agregar-cdp-proyecto-sgp tramiteid="{{vm.tramiteid}}"
                                      proyectoid="{{proyecto.ProyectoId}}"
                                      rolid="{{vm.idRol}}"
                                      errores=vm.errores002
                                      guardadoevent="vm.guardado(nombreComponenteHijo)">
                </agregar-cdp-proyecto-sgp>
            </div>
        </div>
    </article>
</section>