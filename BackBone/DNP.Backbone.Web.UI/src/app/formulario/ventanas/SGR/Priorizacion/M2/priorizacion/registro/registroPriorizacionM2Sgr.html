
<div ng-init="vm.init();">
    <form class="formCenter" id="generalesForm" name="generalesForm" novalidate>
        <div style="padding-top:50px;">
            <span class="buttonbar pull-right">
                <button id="EditarG"
                        type="button"
                        class="btneditarDNP"
                        tooltip-placement="top"
                        uib-tooltip="Editar"
                        tabindex="0"
                        ng-click="vm.ActivarEditar()"
                        ng-disabled="vm.disabled ">
                    EDITAR
                </button>
                &nbsp;
                <button id="GuardarG"
                        type="submit"
                        class="{{vm.activar ? 'btnguardarDisabledDNP' : 'btnguardarDNP'}}"
                        tooltip-placement="top"
                        uib-tooltip="Guardar"
                        ng-click="vm.Guardar()"
                        ng-disabled="vm.activar">
                    GUARDAR
                </button>
            </span>
        </div>
        <div id="PRIPRIPRE" class="hidden mb-3 ml-5 errorSeccionInformacionGeneralViabilidad" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
        <div class="row">
            &nbsp;
        </div>
        <div class="row">
            <div class="col-md-12" style="margin-bottom: 5px;">
                <span class="labelQuestions" style="padding-left: 5px;">¿Decide priorizar el proyecto de inversión conforme la metodología de priorización correspondiente?*</span>
            </div>
        </div>
        <div class="col-md-12" style="text-align: left;">
            <div id="PreguntaObligatoria" class="hidden" style="text-align: left;">
                <img class="" src="Img/u4630.svg">
                <span class="messagealerttableDNP" style="text-align: left;font-family: 'Work Sans'; font-size: 14px; font-style: normal;">Campo obligatorio.</span>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="col-md-3 form-check" style="text-align: left; padding-left: 6px;">
                    <input type="radio" id="radio1" ng-disabled="vm.activar" name="optradio" ng-model="vm.PriorizionProyectoDetalle.Priorizado" value="true" ng-value="true" ng-change="vm.solicitaConceptoChange()">
                    <label for="radio1" style="padding-right: 78px;">
                        Si
                    </label>
                    <input type="radio" id="radio2" ng-disabled="vm.activar" name="optradio" ng-model="vm.PriorizionProyectoDetalle.Priorizado" value="false" ng-value="false" ng-change="vm.solicitaConceptoChange()">
                    <label for="radio2">
                        No
                    </label>
                </div>
            </div>
        </div>


        <div class="col-md-1 divIcon" style="margin-left: 8px;" ng-if="vm.PriorizionProyectoDetalle.Priorizado">
            <img id="u9_seg0" src="Img\iconsforms\u9_seg0.svg" alt="u9_seg0">
            <img id="u9_seg1" src="Img\iconsforms\u9_seg1.svg" alt="u9_seg1">
            <img id="u9_seg2" src="Img\iconsforms\u9_seg2.svg" alt="u9_seg2">
        </div>
        <div id="PRIPRICRI" class="hidden mb-3 ml-5 errorSeccionInformacionGeneralViabilidad" style="text-align: left; font-family: 'Work Sans Roman', 'Work Sans Regular Roman', 'Work Sans'; font-size: 12px; font-style: normal; color: #A80521;"></div>
        <div id="CuestionarioConSi" class="col-md-12 ml-4 hidden" style="text-align: left;" ng-if="vm.PriorizionProyectoDetalle.Priorizado">
            <img class="" src="Img/u4630.svg">
            <span class="messagealerttableDNP" style="text-align: left;font-family: 'Work Sans'; font-size: 14px; font-style: normal;">Debe marcar al menos un criterio como ‘Sí’.</span>
        </div>
        <div class="col-md-12 ml-4" ng-repeat="preguntasGenerales in vm.PreguntasPersonalizadas.PreguntasGenerales" ng-init="preguntasGeneralesIndex = $index" ng-if="vm.PriorizionProyectoDetalle.Priorizado">
            <div class="row">
                <div style="padding: 0 !important">
                    <br />
                    <div ng-repeat="pregunta in preguntasGenerales.Preguntas" ng-init="preguntaIndex = $index">
                        <!--Sesión Pregunta-->
                        <div class="row">
                            <div class="col-md-12">
                                <span ng-if="1 == 0" id="spanId{{pregunta.IdPregunta}}" class="keyPregResObservapDNP">{{pregunta.IdPregunta}}</span>
                                <span class="d-inline-block errorpregDatosPre2" id="alert-sgrviabilidadpreviosdatosgeneralesdatospresentacion{{pregunta.IdPregunta}}" style="visibility: hidden !important"></span>
                                <div class="divIconsQuestions">
                                    <div class="col-md-1 divIcon" style="margin-left: 8px;" ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer != 2 && pregunta.habilitaCo">
                                        <img id="u9_seg0" src="Img\iconsforms\u9_seg0.svg" alt="u9_seg0">
                                        <img id="u9_seg1" src="Img\iconsforms\u9_seg1.svg" alt="u9_seg1">
                                        <img id="u9_seg2" src="Img\iconsforms\u9_seg2.svg" alt="u9_seg2">
                                    </div>
                                    <div class="col-md-1 divIcon" style="margin-left: 40px;" ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer == 2 && pregunta.habilitaCo">
                                        <img id="u9_seg0" src="Img\iconsforms\u9_seg0.svg" alt="u9_seg0">
                                        <img id="u9_seg1" src="Img\iconsforms\u9_seg1.svg" alt="u9_seg1">
                                        <img id="u9_seg2" src="Img\iconsforms\u9_seg2.svg" alt="u9_seg2">
                                    </div>
                                    <div class="col-md-1 divIcon" style="margin-left: 8px;" ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer != 2 && !pregunta.habilitaCo">
                                        <img id="u9_seg0" src="Img\iconsforms\u3_seg0.svg" alt="u9_seg0">
                                        <img id="u9_seg1" src="Img\iconsforms\u3_seg1.svg" alt="u9_seg1">
                                        <img id="u9_seg2" src="Img\iconsforms\u3_seg2.svg" alt="u9_seg2">
                                    </div>
                                    <div class="col-md-1 divIcon" style="margin-left: 40px;" ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer == 2 && !pregunta.habilitaCo">
                                        <img id="u9_seg0" src="Img\iconsforms\u3_seg0.svg" alt="u9_seg0">
                                        <img id="u9_seg1" src="Img\iconsforms\u3_seg1.svg" alt="u9_seg1">
                                        <img id="u9_seg2" src="Img\iconsforms\u3_seg2.svg" alt="u9_seg2">
                                    </div>
                                    <label class="labelQuestionsText" id="labelId{{pregunta.IdPregunta}}" for="pregunta">{{pregunta.Pregunta}}*</label>
                                    <div style="{{pregunta.IdPreguntaPadre > 0 ? 'margin-left: 21px; display: flex;' : 'margin-left: -13px; display: flex;'}}">
                                        <span class="d-inline-block errorpregDatosPre2 ml-4" id="alertE-sgrviabilidadpreviosdatosgeneralesdatospresentacion{{pregunta.IdPregunta}}"></span>
                                        <span class="messagealerttableDNP" style="padding-left: 5px;" id="ERR-sgrviabilidadpreviosdatosgeneralesdatospresentacion{{pregunta.IdPregunta}}"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--Sesión Error Pregunta-->
                        <div class="row">
                            <div class="col-md-12">
                                <div style="{{pregunta.IdPreguntaPadre > 0 ? 'margin-left: 26px;' : 'margin-left: -8px;'}}">
                                    <div id="sgrviabilidadpreviosdatosgeneralesdatospresentacion{{pregunta.IdPregunta}}" class="hidden errorpregDatosPre ml-4 labelErrorQuestions"></div>
                                    <div id="sgrviabilidadpreviosdatosgeneralesdatospresentacionA{{pregunta.IdPregunta}}" class="hidden errorpregDatosPre ml-4 labelErrorQuestions"></div>
                                    <div id="sgrviabilidadpreviosdatosgeneralesdatospresentacionB{{pregunta.IdPregunta}}" class="hidden errorpregDatosPre ml-4 labelErrorQuestions"></div>
                                    <div id="ErrorG{{preguntasGenerales.OrdenTematica}}{{pregunta.IdPregunta}}" class="hidden labelErrorQuestions"></div>
                                </div>
                            </div>
                        </div>
                        <!--Sesión Opciones de Respuesta-->
                        <div class="row">
                            <div class="col-md-12">
                                <div ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer != 2" class="col-md-1 divAnswer">
                                    &nbsp;
                                </div>
                                <div ng-if="pregunta.IdPreguntaPadre > 0 && pregunta.NivelJer == 2" style="padding-left: 48px;" class="col-md-1 divAnswer">
                                    &nbsp;
                                </div>
                                <div style="text-align:left" ng-switch="pregunta.TipoPregunta">
                                    <div class="col-md-1 form-check" ng-switch-when="Opcion" ng-repeat="opciones in pregunta.OpcionesRespuesta">
                                        <input type="radio"
                                               id="pregunta{{pregunta.IdPregunta}}"
                                               name="Respuesta{{pregunta.IdPregunta}}"
                                               style="margin-left: -8px"
                                               value="{{opciones.OpcionId}}"
                                               ng-model="vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta"
                                               ng-change="vm.HabilitarPregunta($event,pregunta.IdPregunta,preguntasGeneralesIndex,preguntaIndex)"
                                               ng-disabled="vm.activar"> {{opciones.ValorOpcion}}
                                    </div>
                                    <div class="form-check" ng-switch-when="Entero">
                                        <input type="text"
                                               string-to-number
                                               id="pregunta{{pregunta.IdPregunta}}"
                                               name="Respuesta{{pregunta.IdPregunta}}"
                                               ng-value="{{pregunta.Respuesta == null || isNaN(pregunta.Respuesta) ? 0 :pregunta.Respuesta}}"
                                               ng-model="vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta"
                                               ng-keypress="vm.validateFormatNumeric($event)"
                                               ng-keyup="vm.validarTamanioTexto($event,3)"
                                               placeholder="0"
                                               style="text-align:right;padding: 0px 5px 0px 5px;margin-left: 5px"
                                               disabled />
                                    </div>
                                    <div class="form-check" ng-switch-when="Decimal">
                                        <input type="text"
                                               string-to-number
                                               id="pregunta{{pregunta.IdPregunta}}"
                                               name="Respuesta{{pregunta.IdPregunta}}"
                                               ng-value="{{pregunta.Respuesta == null || isNaN(pregunta.Respuesta) ? 0 :pregunta.Respuesta}}"
                                               ng-model="vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta"
                                               ng-keypress="vm.validateFormat($event)"
                                               ng-keyup="vm.validarTamanio($event)"
                                               placeholder="0"
                                               style="text-align:right; padding: 0px 5px 0px 5px; margin-left: 5px;"
                                               disabled />
                                    </div>
                                    <div class="form-check" ng-switch-when="Lista">
                                        <select id="pregunta{{pregunta.IdPregunta}}"
                                                style="margin-left: 5px"
                                                name="Respuesta{{pregunta.IdPregunta}}"
                                                ng-model="vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta"
                                                disabled>
                                            <option value="" selected>Seleccione una Entidad</option>
                                            <option ng-repeat="entidad in vm.lista"
                                                    ng-value="entidad.Id.toString()">
                                                <!--ng-selected="entidad.Id.toString() == {{vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta}}"-->
                                                {{ entidad.Entidad }}
                                            </option>
                                        </select>
                                        
                                    </div>
                                    
                                    <div class="form-check" ng-switch-when="Texto">
                                        <input type="text"
                                               id="pregunta{{pregunta.IdPregunta}}"
                                               name="Respuesta{{pregunta.IdPregunta}}"
                                               ng-model="vm.PreguntasPersonalizadas.PreguntasGenerales[preguntasGeneralesIndex].Preguntas[preguntaIndex].Respuesta"
                                               style="text-align:right; padding: 0px 5px 0px 5px; margin-left: 5px;"
                                               ng-keyup="vm.validarTamanioTexto($event,15)"
                                               disabled />
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--Sesión Espacio Pregunta-->
                        <div class="row">
                            <div class="col-md-12">
                                <div class="col-md-6">
                                    &nbsp;
                                </div>
                                <div class="col-md-6">
                                    &nbsp;
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    &nbsp;
                </div>
                <div class="row">
                    &nbsp;
                </div>
            </div>
        </div>


        <!--Sesión Espacio Formulario-->
        <div class="col-md-12">
            <div class="col-md-6">
                &nbsp;
            </div>
            <div class="col-md-6">
                &nbsp;
            </div>
        </div>
        <div class="col-md-12">
            <div class="col-md-6">
                &nbsp;
            </div>
            <div class="col-md-6">
                &nbsp;
            </div>
        </div>
        <div class="col-md-12">
            <div class="col-md-6">
                &nbsp;
            </div>
            <div class="col-md-6">
                &nbsp;
            </div>
        </div>
    </form>
</div>