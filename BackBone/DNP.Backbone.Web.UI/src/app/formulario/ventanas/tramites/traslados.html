


<div class="container-fluid inbox" ng-init="vm.init();">
    <nav class="breadcrumb">
        <!-- ReSharper disable UnknownCssClass -->
        <a href="/">
            <span class="breadcrumb-item active">
                <i class="fa fa-home" aria-hidden="true"></i> Inicio
            </span>
        </a>
        /
        <span class="breadcrumb-item active">Banco de Proyectos</span>
    </nav>


    <div class="dashboard">

        <div class="project consola-proyectos">
            <div class="row">
                <div class="col-md-12">
                    <div class="titlebar">
                        <span>Asociar proyectos a Trámite </span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12 uDetalleSeccion">
                        <div class="col-md-3">
                            <span class="uLabelCampo">Proceso: </span><span class="uLabelDetalle">{{vm.numeroTramite}}</span>
                        </div>
                        <div class="col-md-3">
                            <span class="uLabelCampo">Fecha: </span><span class="uLabelDetalle">{{vm.FechaCreacionTramite}}</span>
                        </div>
                        <div class="col-md-3">
                            <span class="uLabelCampo">Sector: </span><span class="uLabelDetalle">{{vm.nombreSectorTramite}}</span>
                        </div>
                        <div class="col-md-6">
                            <span class="uLabelCampo">Entidad: </span><span class="uLabelDetalle">{{vm.nombreEntidad}} </span>
                        </div>

                        <div class="col-md-3">
                            <span class="uLabelCampo">Tipo: </span><span class="uLabelDetalle">{{vm.nombreTipoTramite}}</span>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12">
                        <span class="uLabelCampo">Descripción: </span>
                        <span class="uLabelDetalle" style="background-color:white;">{{vm.DescripcionTramite}}</span>
                    </div>
                </div>
            </div>
            <br /><br />

            <div ng-if="!vm.activartraslados">


                <div class="row" ng-class="!vm.visibleValidar? 'disablegrid':''">
                    <!--<div class="col-md-12">
                    <div class="col-md-10">-->
                    <div class="col-md-4">
                        <span>Entidad</span>
                        <select chosen options="vm.listaFiltroEntidades" ng-model="vm.IdEntidadSeleccionada"
                                ng-options="x.Id as x.Name for x in vm.listaFiltroEntidades" name="ddlEntidad" id="ddlEntidad"
                                no-results-text="No hay ningún resultado para su búsqueda" placeholder-text-single="Entidades" class="form-control" onchange="angular.element(this).scope().vm.actualizaCombos(event)"
                                ng-disabled="vm.seleccionProyectos">
                            <option value="" selected>Seleccione una entidad</option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <span>Proyecto contracrédito</span>
                        <select multiple chosen options="vm.listaFiltroProyectosC" ng-model="vm.ProyectosSeleccionadosC" ng-options="x.Id as x.Name for x in vm.listaFiltroProyectosC"
                                name="ddlProyectoC" id="ddlProyectoC" class="form-control"
                                no-results-text="No hay ningún resultado para su búsqueda" placeholder-text-single="Proyectos contracrédito" ng-disabled="vm.seleccionProyectos">
                            <option value="" selected>Seleccione los proyectos contracrédito</option>
                        </select>
                    </div>

                    <div class="col-md-4">
                        <span>Proyecto crédito</span>
                        <select multiple chosen options="vm.listaFiltroProyectosD" ng-model="vm.ProyectosSeleccionadosD" ng-options="x.Id as x.Name for x in vm.listaFiltroProyectosD"
                                name="ddlProyectoD" id="ddlProyectoD" class="form-control"
                                no-results-text="No hay ningún resultado para su búsqueda" placeholder-text-single="Proyectos crédito" ng-disabled="vm.seleccionProyectos">
                            <option value="" selected>Seleccione los proyectos crédito</option>
                        </select>
                    </div>

                    <!--</div>
                    </div>-->
                </div>
                <br />
                <div class="row">
                    <div class="col-md-12" ng-class="!vm.visibleValidar? 'disablegrid':''">
                        <span class="buttonbar pull-left">
                            <button type="button" class="btn btn-default btn-md" tooltip-placement="top" uib-tooltip="Ver requisitos tramite" ng-click="vm.btnIniciarRequisitosTramite_onClick()" tabindex="0">
                                Ver requisitos tramite
                            </button>
                        </span>
                        <span class="buttonbar pull-right" ng-show="vm.noJefePlaneacion && !$sessionStorage.soloLectura">
                            <button type="button" class="btn btn-default btn-md" has-claim has-opciones="['Tramites:GenerarInstanciasMasivas']" tooltip-placement="top" uib-tooltip="Crear proceso masivo de ajuste del proyecto con trámite presupuestal" ng-click="vm.generarInstanciasMasiva()" tabindex="0"
                                    ng-show="!vm.aprobacionEntidad">
                                Generar instancias masiva
                            </button>
                            <button type="button" class="btn btn-default btn-md" has-claim has-opciones="['Tramites:AgregarProyectos']" tooltip-placement="top" uib-tooltip="Agregar Proyectos" ng-click="vm.agregarProyectos()" tabindex="0" ng-show="!vm.aprobacionEntidad">
                                Agregar
                            </button>
                            <button type="button" class="btn btn-default btn-md" ng-click="vm.limpiarCombos()" has-claim has-opciones="['Tramites:LimpiarCombos']" tooltip-placement="auto" uib-tooltip="Quitar seleccion" ng-show="!vm.aprobacionEntidad">Limpiar</button>
                        </span>
                    </div>
                </div>

                <br /><br />
                <div class="row grid-proyectos">
                    <div class="col-md-12">
                        <div class="container-table" ui-i18n="{{vm.lang}}" style="height:400px; overflow-y: scroll; display: inline-block; width: 100%; padding-right: 10px !important;">

                            <div class="clearfix grid-icon grid2" id="uigprojecto" ui-grid="vm.gridOptions" style="text-align: center;"
                                 ui-grid-resize-columns ui-grid-pinning ng-class="!vm.visibleValidar? 'disablegrid':''">
                            </div>

                            <div class="text-center intro-help min-mh no-result-watermark" ng-if="!vm.tipoEntidad && !vm.filasFiltradas">
                                <h4>{{ 'Buscando resultados'}}</h4>
                            </div>

                        </div>
                    </div>
                    <div ng-if="vm.mostrarMensajeProyectos" ng-cloak>
                        <div class="text-center intro-help no-result-watermark">
                            <img src="Img/image-help.png" alt="Sin resultados" />
                            <h2 id="idLabelMensajeResultados">{{vm.Mensaje}}</h2>
                        </div>
                    </div>
                </div>
                <br /><br />

                <div class="row">
                    <div class="col-md-4">
                    </div>
                    <div class="col-md-8 row" style="padding-right: 7rem;">
                        <div class="col-md-12" style="font-size:12px;">
                            <div class="col-md-6">
                                <div class="row" style="list-style: none;">
                                    <div class="col-md-12 bordesencillo" style="padding: 0 !important">

                                        <div class="col-md-6" style="padding: 0 !important;display: list-item;margin-top: 20px;">
                                            <div class="text-right" style="margin-right: 15px;"> <label>Total recursos crédito </label> </div>
                                            <div class="text-right" style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoRC}}</label> </div>
                                        </div>
                                        <div class="col-md-6" style="padding: 0 !important">
                                            <div style="background-color: white;">
                                                <div class="row text-right" style="margin-right: 15px;"> <label>Nación </label> </div>
                                                <div class="row text-right " style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoNacionRC}}</label> </div>
                                            </div>
                                            <div style="background-color: white;">
                                                <div class="row text-right" style="margin-right: 15px;"> <label>Propios </label> </div>
                                                <div class="row text-right" style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoPropiosRC}}</label> </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="row" style="list-style: none;">
                                    <div class="col-md-12 bordesencillo" style="padding: 0 !important;">
                                        <div class="col-md-6" style="padding: 0 !important;display: list-item;margin-top: 20px;">
                                            <div class="row text-right" style="margin-right: 15px;"> <label>Total recursos contracredito </label> </div>
                                            <div class="row text-right    " style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoRCC}}</label> </div>
                                        </div>
                                        <div class="col-md-6 " style="padding:0 !important">
                                            <div style="background-color: white;">
                                                <div class="row text-right" style="margin-right: 15px;"> <label>Nación </label> </div>
                                                <div class="row text-right" style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoNacionRCC}}</label> </div>
                                            </div>
                                            <div style="background-color: white;">
                                                <div class="row text-right" style="margin-right: 15px;"> <label>Propios </label> </div>
                                                <div class="row text-right" style="margin-right: 15px;"> <label style="font-weight: 700;">{{vm.ValorTotalMontoPropiosRCC}}</label> </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br /><br />
                <br /><br />
                <div class="row buttonbar" ng-show="!vm.aprobacionEntidad">
                    <div class="col-md-4">
                        <button ng-click="vm.ValidarEnviarDatosTramite()" has-claim has-opciones="['Tramites:ValidarFormulario']" class="btn btn-success btn-block">{{vm.visibleValidar ? 'Validar Formulario' : 'Cancelar'}}</button>
                    </div>
                </div>
                <br /><br />
            </div>
            <div class="row" ng-if="vm.activartraslados" style="overflow:scroll; min-height: 600px; padding-right: 10px;">
                <traslados-acciones desactivartraslados="vm.desactivartraslados()" ProyectoId="vm.ProyectoId"></traslados-acciones>
            </div>
        </div>
    </div>


</div>
<link href="/Content/ui-gridDNP.css" rel="stylesheet" />

<style>
    .ui-grid .ui-grid-row .ui-grid-cell {
        border-bottom: 2px solid rgba(230, 239, 253, 1);
        z-index: 500 !important;
        /* height: 100%!important; */
        padding: 2px 4px;
        background: transparent;
        font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans';
        font-style: normal;
        font-size: 13px !important;
        letter-spacing: normal;
        color: #4B4B4B;
    }

    .ui-grid-cell-contents {
        padding: 0px;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        white-space: normal !important;
        -ms-text-overflow: ellipsis;
        -o-text-overflow: ellipsis;
        text-overflow: ellipsis;
        overflow: hidden;
        height: 100%;
    }

    .ui-grid-header-cell-label {
        padding-left: 0px;
    }

    .ui-grid-header-cell > div {
        -ms-flex-basis: 100%;
        flex-basis: 100%;
        border-bottom: 1px solid #D7DDEA;
        border-width: 2px;
        border-style: solid;
        border-color: rgba(230, 239, 253, 1);
        border-radius: 0px;
        background: inherit;
        background-color: rgba(249, 252, 253, 1);
        color: #004884;
        height: 55px;
        text-align: left;
        font-weight: 500 !important;
        font-style: normal;
        /* font-size: 16px; */
        font-style: normal !important;
        font-size: 16px !important;
        font-family: 'Work Sans Medium Roman', 'Work Sans Regular Roman', 'Work Sans';
        color: #004884;
        padding: 4px !important;
    }

    .grid-icon-accion {
        width: 20px !important;
        height: 20px !important;
    }
    .ui-grid .ui-grid-cell-contents.ng-binding.ng-scope {
        display: flex;
        justify-content: center;
        align-content: center;
        flex-direction: column;
        padding-left: 3px !important;
    }
    .grid1657569466948 .ui-grid-render-container-body .ui-grid-header-viewport {
        width: 100%;
    }
</style>

